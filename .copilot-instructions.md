# corAe Studio â€¢ Copilot Guidance

## ğŸ§  Context
This repository powers **corAe OSÂ²** â€” an AI-driven operating system for life, business, and workflow management.  
Copilot should treat this repo as a monorepo containing:
- `apps/studio/app` â€” main Next.js App Router project
- `app/prisma` â€” unified Prisma schema and client
- `apps/ship` â€” auxiliary service deployables

## ğŸ§© Modules
| Module | Purpose |
|---------|----------|
| `marketplace/reserve` | BDO Hub + BTDO Staging Post |
| `finance` | OBARIâ„¢ invoicing, reconciliation |
| `cims` | internal messaging (corAe Internal Messaging System) |
| `work` | Workflow Partnerâ„¢ and task management |
| `home` | end-user personal OS layer |

## ğŸ§­ Naming Conventions
- Always prefix systems with **corAe** (e.g., `corAe Reserveâ„¢`, `corAe Confirmedâ„¢`).
- Respect **BTDO Law**: `Book â†’ (Trade) â†’ Deal â†’ Order`.
- Use the shared Prisma client via `import prisma from "@/app/prisma/client"`.
- All communication events emit through CIMS (`sendCims()`).

## âš™ï¸ Style
- **Language:** TypeScript  
- **Framework:** Next.js 15 App Router  
- **UI:** React + Tailwind  
- **Tests:** Vitest  
- **ORM:** Prisma  
- **Logging:** `warn`, `error` only  
- **Formatting:** ESLint + Prettier (`semi: false`, `quotes: "double"`, `trailingComma: "all"`)

## ğŸ” Security & Quality
- Never use raw SQL; always parameterize queries.
- Use `zod` for API input validation.
- Avoid `new PrismaClient()` outside of isolated scripts.
- Wrap every API handler in try/catch and respond with JSON `{ ok: false, error }`.

## ğŸ”” Events to emit (Reserve module)
| Event | Description |
|--------|-------------|
| `reserve.booked` | new reservation created |
| `reserve.trade.opened` | elevated to BTDO |
| `reserve.pricelocked` | trade locked by Pricelock Chainâ„¢ |
| `reserve.deal.confirmed` | Deal finalized under corAe Confirmedâ„¢ |
| `reserve.order.dispatched` | Work OS assignment triggered |

## ğŸ’¡ Copilot Suggestions
- Suggest `use client` components only when React hooks are used.
- Propose Tailwind utility layouts: `rounded-xl shadow p-6 text-gray-800 bg-neutral-50`.
- Default to **functional purity**: keep API and state transitions stateless where possible.
- For every `.test.ts`, cover both success and failure transitions under BTDO law.

---

This file ensures GitHub Copilot Chat and inline Copilot completions understand the **corAe** conventions, preferred frameworks, and domain-specific vocabulary.