Entity,Field,Type,Enum,Nullable,Description
Deal,id,string,,False,
Deal,code,string,,False,"Human-friendly deal code, e.g., BTDO-2025-0001"
Deal,mode,string,"BUYER,SELLER,BROKER",False,
Deal,stage,string,"ORDER,BOOKING,ACTIVE,REPORTING,INVOICING",False,
Deal,createdAt,string,,False,
Deal,updatedAt,string,,False,
Deal,priceLockedAt,string,,True,
Deal,confirmedAt,string,,True,
Deal,statusFlags,object,,False,
Deal,vendorId,string,,False,
Deal,clientId,string,,False,
Deal,currency,string,,False,
Deal,creditTerms,string,,True,
Deal,vatPercent,number,,False,
Deal,discountPct,number,,False,
Deal,deliveryBranch,string,,True,
Deal,deliverySlotIso,string,,True,
Deal,logisticsNotes,string,,True,
Deal,cashPlan,object,,True,
Deal,exchangeRate,number,,True,
Deal,subtotal,number,,False,
Deal,vatAmount,number,,False,
Deal,total,number,,False,
Deal,bigNine,object,,False,
Deal,meta,object,,False,Free-form extensions to avoid data loss
DealItem,id,string,,False,
DealItem,dealId,string,,False,
DealItem,sku,string,,False,
DealItem,name,string,,False,
DealItem,category,string,,True,
DealItem,brand,string,,True,
DealItem,uom,string,,False,
DealItem,qty,number,,False,
DealItem,unitPrice,number,,False,
DealItem,expiryDate,string,,True,
Party,id,string,,False,
Party,kind,string,"Vendor,Client",False,
Party,name,string,,False,
Party,taxId,string,,True,
Party,address,string,,True,
Party,contact,object,,True,
Document,id,string,,False,
Document,dealId,string,,False,
Document,kind,string,"QUOTE,BTDO,BDO,PO,GRN,INVOICE,REPORT,OTHER",False,
Document,url,string,,False,
Document,meta,object,,True,
Document,createdAt,string,,False,
Delivery,id,string,,False,
Delivery,dealId,string,,False,
Delivery,slotIso,string,,False,
Delivery,mode,string,"vendor_delivery,pickup,courier",False,
Delivery,conditions,string,,True,
Delivery,grnUrl,string,,True,
Payment,id,string,,False,
Payment,dealId,string,,False,
Payment,method,string,"cash,bank,credit",False,
Payment,amount,number,,False,
Payment,scheduledOn,string,,True,
Payment,paidOn,string,,True,
Payment,reference,string,,True,
AuditEvent,id,string,,False,
AuditEvent,dealId,string,,False,
AuditEvent,actor,string,,False,
AuditEvent,action,string,"CREATE_BTDO,CONFIRM_BDO,ISSUE_PO,POST_GRN,ISSUE_INVOICE,RE_BROKER",False,
AuditEvent,before,object,,True,
AuditEvent,after,object,,True,
AuditEvent,createdAt,string,,False,
