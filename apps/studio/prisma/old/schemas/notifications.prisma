// corAe Notify™ — Alerts & Tasks
enum NotifyChannel { EMAIL SMS PUSH INAPP }
enum NotifyStatus { QUEUED SENT FAILED READ ACTIONED }

model Notification {
  id          String        @id @default(cuid())
  companyId   String
  toRoleId    String?
  toUser      String?
  channel     NotifyChannel @default(INAPP)
  status      NotifyStatus  @default(QUEUED)
  subject     String
  message     String?
  payload     Json?
  createdAt   DateTime      @default(now())
  sentAt      DateTime?
  readAt      DateTime?
  actionedAt  DateTime?

  company     CompanyIdentity @relation(fields: [companyId], references: [id], onDelete: Cascade)
  toRole      HrRole?         @relation(fields: [toRoleId], references: [id])
}